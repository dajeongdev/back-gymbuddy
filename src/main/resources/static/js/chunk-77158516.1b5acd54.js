(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-77158516"],{"0c24":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"file-wrapper"},[a("div",{staticClass:"preview-container"},[t.files[0]?a("div",{staticClass:"file-preview-wrapper"},[a("label",{attrs:{for:t.refName}},[a("img",{attrs:{src:t.files[0].preview}})]),a("div",{staticClass:"img-info"},[a("span",[t._v(t._s(t.files[0].file.name))]),a("div",{on:{click:t.fileDeleteButton}},[a("Close",{attrs:{name:t.files[0].number}})],1)])]):a("div",{staticClass:"file-upload"},[a("div",{staticClass:"image-box"},[a("label",{attrs:{for:t.refName}},[a("ImagePlus")],1),a("input",{ref:"files",attrs:{type:"file",id:t.refName},on:{change:t.imageAddUpload}})])])])])},n=[],s=(a("4de4"),a("b0c0"),a("a9e3"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("f2c6")),r=a("fa4d"),o={components:{ImagePlus:s["a"],Close:r["a"]},props:{refName:{type:String},image:{type:Object}},created:function(){console.log(this.refName),this.image&&this.image.imgName&&(this.image.name=this.image.imgName,this.files=[{file:this.image,preview:this.image.imgPath,number:1}])},data:function(){return{files:[],filesPreview:[],uploadImageIndex:0}},methods:{imageAddUpload:function(){this.files=[{file:this.$refs.files.files[0],preview:URL.createObjectURL(this.$refs.files.files[0]),number:1}],console.log(this.refName),this.$emit(this.refName,this.files[0].file)},fileDeleteButton:function(t){this.$emit(this.refName,{});var e=t.target.getAttribute("name");this.files=this.files.filter((function(t){return t.number!==Number(e)}))}}},c=o,l=(a("8535"),a("2877")),m=Object(l["a"])(c,i,n,!1,null,"1116737c",null);e["a"]=m.exports},"12a7":function(t,e,a){},"4ad7":function(t,e,a){"use strict";a("12a7")},"4bae":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.loading?a("div",{staticClass:"spinner-background"}):t._e(),t.loading?a("div",{staticClass:"spinner"}):t._e()])},n=[],s={components:{},props:{loading:{type:Boolean,required:!0}},data:function(){return{}}},r=s,o=a("2877"),c=Object(o["a"])(r,i,n,!1,null,"6dbc9d3b",null);e["a"]=c.exports},8535:function(t,e,a){"use strict";a("d681")},"9e6b":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[a("path",{attrs:{d:"M7.05029 7.05029L16.9498 16.9498",stroke:"#FF585D","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}}),a("path",{attrs:{d:"M7.05029 16.9497L16.9498 7.05021",stroke:"#FF585D","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}})])])},n=[],s={},r=s,o=a("2877"),c=Object(o["a"])(r,i,n,!1,null,"14d255fe",null);e["a"]=c.exports},a434:function(t,e,a){"use strict";var i=a("23e7"),n=a("23cb"),s=a("a691"),r=a("50c4"),o=a("7b0b"),c=a("65f0"),l=a("8418"),m=a("1dde"),u=a("ae40"),d=m("splice"),p=u("splice",{ACCESSORS:!0,0:0,1:2}),g=Math.max,f=Math.min,v=9007199254740991,h="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!d||!p},{splice:function(t,e){var a,i,m,u,d,p,b=o(this),C=r(b.length),w=n(t,C),N=arguments.length;if(0===N?a=i=0:1===N?(a=0,i=C-w):(a=N-2,i=f(g(s(e),0),C-w)),C+a-i>v)throw TypeError(h);for(m=c(b,i),u=0;u<i;u++)d=w+u,d in b&&l(m,u,b[d]);if(m.length=i,a<i){for(u=w;u<C-i;u++)d=u+i,p=u+a,d in b?b[p]=b[d]:delete b[p];for(u=C;u>C-i+a;u--)delete b[u-1]}else if(a>i)for(u=C-i;u>w;u--)d=u+i-1,p=u+a-1,d in b?b[p]=b[d]:delete b[p];for(u=0;u<a;u++)b[u+w]=arguments[u+2];return b.length=C-i+a,m}})},c4f1:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sub-container"},[a("ul",{staticClass:"tabs sub"},[a("li",{staticClass:"current",on:{click:function(e){return t.goto("/admin/program")}}},[t._v("프로그램")]),a("li",{on:{click:function(e){return t.goto("/admin/goods")}}},[t._v("굿즈")])]),a("div",{staticClass:"contents-container"},[a("p",{staticClass:"contents-title underline marB-20 body3"},[t._v("새 프로그램 등록")]),a("form",{attrs:{method:"post",enctype:"multipart/form-data"}},[a("div",{staticClass:"input-container marB-40"},[a("section",{staticClass:"marB-40"},[a("p",{staticClass:"body3 marB-10"},[t._v("대표 이미지")]),a("div",{staticClass:"input-item align-top"},[a("input",{attrs:{type:"file",id:"files1",name:"file"}}),t.thumb?a("AddImageSingle",{attrs:{refName:"mainImage",image:t.thumb},on:{change:t.setMainImage}}):t._e()],1)]),a("section",{staticClass:"basic-info"},[a("p",{staticClass:"body3 marB-20"},[t._v("기본 정보")]),a("div",{staticClass:"input-item"},[a("p",{staticClass:"small-title"},[t._v("프로그램명")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.programName,expression:"programName"}],staticClass:"admin-input medium",attrs:{type:"text",name:"contents"},domProps:{value:t.programName},on:{input:function(e){e.target.composing||(t.programName=e.target.value)}}})]),a("div",{staticClass:"input-item"},[a("p",{staticClass:"small-title"},[t._v("진행자")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.coach,expression:"coach"}],staticClass:"admin-input medium",attrs:{type:"text",name:"contents"},domProps:{value:t.coach},on:{input:function(e){e.target.composing||(t.coach=e.target.value)}}})]),a("div",{staticClass:"input-item"},[a("p",{staticClass:"small-title"},[t._v("일자")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.classDate,expression:"classDate"}],staticClass:"admin-input medium",attrs:{type:"text",name:"contents"},domProps:{value:t.classDate},on:{input:function(e){e.target.composing||(t.classDate=e.target.value)}}})]),a("div",{staticClass:"input-item"},[a("p",{staticClass:"small-title"},[t._v("시간")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.classTime,expression:"classTime"}],staticClass:"admin-input medium",attrs:{type:"text",name:"contents"},domProps:{value:t.classTime},on:{input:function(e){e.target.composing||(t.classTime=e.target.value)}}})]),a("div",{staticClass:"input-item"},[a("p",{staticClass:"small-title"},[t._v("가격")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.programPrice,expression:"programPrice"}],staticClass:"admin-input medium",attrs:{type:"text",name:"contents"},domProps:{value:t.programPrice},on:{input:function(e){e.target.composing||(t.programPrice=e.target.value)}}})])]),a("section",{staticClass:"options"},[a("p",{staticClass:"body3 marB-20"},[t._v("옵션")]),t._l(t.options,(function(e,i){return a("div",{key:e.id,staticClass:"input-item marB-20"},[a("p",{staticClass:"small-title"},[t._v("옵션 "+t._s(i+1))]),a("div",{staticClass:"input-item-body"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.id,expression:"option.id"}],staticClass:"admin-input medium",attrs:{type:"hidden"},domProps:{value:e.id},on:{input:function(a){a.target.composing||t.$set(e,"id",a.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.classDateTime,expression:"option.classDateTime"}],staticClass:"admin-input medium",attrs:{type:"text",placeholder:"날짜"},domProps:{value:e.classDateTime},on:{input:function(a){a.target.composing||t.$set(e,"classDateTime",a.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.userCount,expression:"option.userCount"}],staticClass:"admin-input small",attrs:{type:"text",placeholder:"참여인원수"},domProps:{value:e.userCount},on:{input:function(a){a.target.composing||t.$set(e,"userCount",a.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.addPrice,expression:"option.addPrice"}],staticClass:"admin-input small",attrs:{type:"text",placeholder:"추가가격"},domProps:{value:e.addPrice},on:{input:function(a){a.target.composing||t.$set(e,"addPrice",a.target.value)}}}),a("div",{on:{click:function(e){return t.removeField(i)}}},[a("CloseRed")],1)])])})),a("button",{staticClass:"solid-btn green marB-30",attrs:{type:"button"},on:{click:t.addField}},[t._v(" 옵션 추가 ")])],2),a("LoadingSpinner",{attrs:{loading:t.isLoading}}),a("section",{staticClass:"marB-40"},[a("div",{staticClass:"img-upload-container"},[a("p",{staticClass:"body3"},[t._v("상세 이미지")]),a("div",{staticClass:"input-item align-top"},[a("input",{attrs:{type:"file",id:"files2",name:"file"}}),t.detailImg?a("AddImageSingle",{attrs:{refName:"detailImage",image:t.detailImg},on:{change:t.setDetailImage}}):t._e()],1)])]),a("button",{staticClass:"outlined-btn",attrs:{type:"button"},on:{click:t.updateProgram}},[t._v(" 등록 ")])],1)])])])},n=[],s=(a("a434"),a("96cf"),a("1da1")),r=a("5530"),o=a("4360"),c=a("2f62"),l=a("0c24"),m=a("fd04"),u=a("9e6b"),d=a("4bae"),p={components:{AddImageSingle:l["a"],CloseRed:u["a"],LoadingSpinner:d["a"]},data:function(){return{id:this.$route.params.id,thumb:"",detailImg:"",programName:"",coach:"",classDate:"",classTime:"",programPrice:"",options:[{classDateTime:"",userCount:"",addPrice:""}],isLoading:!1}},created:function(){o["a"].commit("SET_MAIN",null),o["a"].commit("SET_DETAIL",null),this.id=this.$route.params.id,this.fetchProgramDetail(this.id)},computed:Object(r["a"])({},Object(c["b"])(["main","detail"])),methods:{goto:function(t){this.$router.push({path:t})},addField:function(){this.options.push({classDateTime:"",userCount:"",addPrice:""})},fetchProgramDetail:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.isLoading=!0,a.prev=1,a.next=4,Object(m["d"])(t);case 4:i=a.sent,e.programName=i.data.title,e.coach=i.data.coach,e.classDate=i.data.classDate,e.classTime=i.data.classTime,e.programPrice=i.data.price,e.options=i.data.options,e.thumb={imgPath:i.data.thumbnailImgPath,imgName:i.data.thumbnailImgName},e.detailImg={imgPath:i.data.detailImgPath,imgName:i.data.detailImgName},a.next=18;break;case 15:a.prev=15,a.t0=a["catch"](1),console.log(a.t0);case 18:return a.prev=18,e.isLoading=!1,a.finish(18);case 21:case"end":return a.stop()}}),a,null,[[1,15,18,21]])})))()},removeField:function(t){this.options.splice(t,1)},updateProgram:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=new FormData,t.main&&a.append("thumbnailFile",t.main),t.detail&&a.append("detailFile",t.detail),a.append("title",t.programName),a.append("coach",t.coach),a.append("classDate",t.classDate),a.append("classTime",t.classTime),a.append("price",t.programPrice),a.append("optionList",JSON.stringify(t.options)),t.isLoading=!0,e.prev=10,e.next=13,Object(m["f"])(t.id,a);case 13:i=e.sent,console.log(i),200==i.status?alert("프로그램이 수정되었습니다"):alert("에러가 발생했습니다"),e.next=21;break;case 18:e.prev=18,e.t0=e["catch"](10),alert("에러가 발생했습니다");case 21:return e.prev=21,t.isLoading=!1,e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[10,18,21,24]])})))()},setMainImage:function(t){o["a"].commit("SET_MAIN",t),this.thumb=this.main},setDetailImage:function(t){o["a"].commit("SET_DETAIL",t),this.detailImg=this.detail}}},g=p,f=(a("4ad7"),a("2877")),v=Object(f["a"])(g,i,n,!1,null,"1b858805",null);e["default"]=v.exports},d681:function(t,e,a){},fd04:function(t,e,a){"use strict";a.d(e,"e",(function(){return n})),a.d(e,"c",(function(){return s})),a.d(e,"d",(function(){return r})),a.d(e,"a",(function(){return o})),a.d(e,"f",(function(){return c})),a.d(e,"g",(function(){return m})),a.d(e,"h",(function(){return u})),a.d(e,"b",(function(){return l}));a("99af");var i=a("365c");function n(){return i["a"].get("api/program/totalCount")}function s(t){return i["a"].get("api/program/all/".concat(t))}function r(t){return i["a"].get("api/program/detail/".concat(t))}function o(t){return i["b"].post("api/admin/program/new",t)}function c(t,e){return i["b"].put("api/admin/program/update/".concat(t),e)}function l(t){return i["b"].delete("api/admin/program/delete",{data:t})}function m(t,e){return i["b"].put("/api/admin/program/setMainYn/".concat(t,"/").concat(e))}function u(t,e){return i["b"].put("/api/admin/program/updateStatus/".concat(t),e)}}}]);
//# sourceMappingURL=chunk-77158516.1b5acd54.js.map